jQuery(document).ready(function($){$(document).on("change","#general, #loop_single, #loop_review",function(){var t=$(this);t.find("option:selected").each(function(){"-1"!==$(this).val()&&$("#"+t.attr("id")+"_text").insertAtCaret("%"+$(this).text()+"%")})}),$(".kbp-backend .color-picker").wpColorPicker()}),jQuery.fn.extend({insertAtCaret:function(t){return this.each(function(e){if(document.selection){this.focus();var i=document.selection.createRange();i.text=t,this.focus()}else if(this.selectionStart||"0"==this.selectionStart){var s=this.selectionStart,n=this.selectionEnd,o=this.scrollTop;this.value=this.value.substring(0,s)+t+this.value.substring(n,this.value.length),this.focus(),this.selectionStart=s+t.length,this.selectionEnd=s+t.length,this.scrollTop=o}else this.value+=t,this.focus()})}});